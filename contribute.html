<!DOCTYPE html>
<html lang="en" class="dark"> <!-- Default to dark mode -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contribute to OSAgent</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --primary-accent: #007BFF;
            --background-dark: #030712;
        }
        html.dark {
            color-scheme: dark;
        }
        body {
            font-family: 'Inter', sans-serif;
            user-select: none;
            -webkit-user-select: none;
            background-color: var(--background-dark);
        }
        input, textarea {
            user-select: auto;
            -webkit-user-select: auto;
        }
        .cta-button {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 123, 255, 0.2), 0 4px 6px -2px rgba(0, 123, 255, 0.1), 0 0 20px rgba(0, 123, 255, 0.5);
        }
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        #message-box {
            position: fixed;
            bottom: -100px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 24px;
            border-radius: 8px;
            color: white;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }
        #message-box.show {
            bottom: 20px;
            opacity: 1;
            visibility: visible;
        }
        #message-box.success { background-color: #28a745; }
        #message-box.error { background-color: #dc3545; }

        /* --- Glowing Outline Effect --- */
        .form-field {
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        .form-field:hover {
            border-color: var(--primary-accent);
            box-shadow: 0 0 15px rgba(0, 123, 255, 0.4);
        }
        
        /* --- Logo Animation Styles --- */
        #logo {
            font-family: 'Inter', sans-serif;
            user-select: none;
            -webkit-user-select: none;
            width: 10rem;
            position: relative;
        }
        #logo-os, #logo-agent {
            position: absolute;
        }
        #logo-os { left: 0; z-index: 10; }
        #logo-agent { left: 2.25rem; z-index: 5; }
        @keyframes move-os {
            0% { left: 0; transform: scale(1); opacity: 1; z-index: 10; }
            50% { transform: scale(0.85); opacity: 0.7; }
            100% { left: 4.5rem; transform: scale(1); opacity: 1; z-index: -1; }
        }
        @keyframes move-agent {
            from { left: 2.25rem; }
            to { left: 0; }
        }
        .animate-logo #logo-os { animation: move-os 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards; }
        .animate-logo #logo-agent { animation: move-agent 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards; }

        /* Scaling effect for the form section */
        #recruit {
            transition: transform 0.5s ease-in-out;
        }
        #recruit.active {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100">

    <header class="sticky top-0 z-50 w-full bg-gray-900/70 backdrop-blur-lg">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4 border-b border-gray-800">
                <a href="index.html" id="logo" class="relative text-2xl font-bold text-white h-8 flex items-center">
                    <span id="logo-os">OS</span>
                    <span id="logo-agent">Agent</span>
                </a>
                <a href="index.html" class="text-gray-300 hover:text-blue-400 font-semibold">‚Üê Back to Home</a>
            </div>
        </div>
    </header>

    <main>
        <section id="recruit" class="py-24 text-center">
            <div class="container mx-auto px-4 fade-in">
                <h1 class="text-4xl md:text-5xl font-bold mb-4 text-white">Help Build the Future</h1>
                <p class="text-lg text-gray-400 max-w-2xl mx-auto mb-12">
                    We're looking for talented engineers and visionaries to help build the foundational OS for AI. If you're passionate about autonomous agents, we want to hear from you.
                </p>
                <form id="recruit-form" class="flex flex-col items-center gap-4 mt-6 max-w-xl mx-auto text-left">
                    <div class="w-full">
                        <label for="name" class="block text-sm font-medium text-gray-300 mb-1">Your Name</label>
                        <input id="name" type="text" required name="name" placeholder="Ada Lovelace" class="form-field px-4 py-3 rounded-lg border border-gray-700 bg-gray-800/80 text-lg w-full focus:ring-2 focus:ring-blue-500 focus:outline-none">
                    </div>
                    <div class="w-full">
                        <label for="email" class="block text-sm font-medium text-gray-300 mb-1">Your Email</label>
                        <input id="email" type="email" required name="email" placeholder="ada@example.com" class="form-field px-4 py-3 rounded-lg border border-gray-700 bg-gray-800/80 text-lg w-full focus:ring-2 focus:ring-blue-500 focus:outline-none">
                    </div>
                    <div class="w-full">
                        <label for="link" class="block text-sm font-medium text-gray-300 mb-1">GitHub, LinkedIn, or Portfolio URL</label>
                        <input id="link" type="url" name="link" placeholder="https://github.com/ada" class="form-field px-4 py-3 rounded-lg border border-gray-700 bg-gray-800/80 text-lg w-full focus:ring-2 focus:ring-blue-500 focus:outline-none">
                    </div>
                    <div class="w-full">
                        <label for="message" class="block text-sm font-medium text-gray-300 mb-1">Why are you interested in AgentOS?</label>
                        <textarea id="message" name="message" rows="4" class="form-field px-4 py-3 rounded-lg border border-gray-700 bg-gray-800/80 text-lg w-full focus:ring-2 focus:ring-blue-500 focus:outline-none"></textarea>
                    </div>
                    <button type="submit" class="cta-button bg-blue-600 text-white font-semibold px-8 py-3 rounded-lg text-lg w-full sm:w-auto mt-4">I'm Interested</button>
                </form>
            </div>
        </section>
    </main>

    <footer class="bg-black text-gray-400">
        <div class="container mx-auto px-4 py-12 text-center">
            <p>&copy; 2025 AgentOS. The OS for the Third User.</p>
        </div>
    </footer>

    <div id="message-box"></div>

    <script>
      // Placeholder for Firebase config. Replace this with your actual Firebase config.
      const firebaseConfig = {
        apiKey: "YOUR_API_KEY",
        authDomain: "YOUR_AUTH_DOMAIN",
        projectId: "YOUR_PROJECT_ID",
        storageBucket: "YOUR_STORAGE_BUCKET",
        messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
        appId: "YOUR_APP_ID"
      };
    </script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        window.db = null;
        try {
            const app = initializeApp(firebaseConfig);
            window.db = getFirestore(app);
            console.log("Firebase Initialized Successfully");
        } catch (e) {
            console.error("Firebase initialization error:", e);
        }

        async function handleRecruitSubmit(event) {
            event.preventDefault();
            if (!window.db) {
                showMessage('Backend not ready. Please try again.', 'error');
                return;
            }

            const form = event.target;
            const nameInput = form.querySelector('input[name="name"]');
            const emailInput = form.querySelector('input[name="email"]');
            const linkInput = form.querySelector('input[name="link"]');
            const messageInput = form.querySelector('textarea[name="message"]');
            const submitButton = form.querySelector('button[type="submit"]');

            const formData = {
                name: nameInput.value,
                email: emailInput.value,
                link: linkInput.value,
                message: messageInput.value,
                timestamp: serverTimestamp()
            };

            if (!formData.name || !formData.email) {
                showMessage('Please fill in your name and email.', 'error');
                return;
            }

            submitButton.disabled = true;
            submitButton.textContent = 'Submitting...';

            try {
                await addDoc(collection(window.db, "recruits"), formData);
                showMessage('Thank you! We will be in touch.', 'success');
                form.reset();
            } catch (e) {
                console.error("Error adding document: ", e);
                showMessage('Something went wrong. Please try again.', 'error');
            } finally {
                submitButton.disabled = false;
                submitButton.textContent = "I'm Interested";
            }
        }
        
        function showMessage(message, type = 'success') {
            const messageBox = document.getElementById('message-box');
            if(!messageBox) return;
            messageBox.textContent = message;
            messageBox.className = `show ${type}`;
            setTimeout(() => {
                messageBox.className = messageBox.className.replace('show', '');
            }, 3000);
        }

        document.addEventListener('DOMContentLoaded', () => {
            const recruitForm = document.getElementById('recruit-form');
            if(recruitForm) recruitForm.addEventListener('submit', handleRecruitSubmit);
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                       entry.target.classList.add('visible');
                       // Add active class for scaling effect
                       document.getElementById('recruit').classList.add('active');
                    } else {
                        document.getElementById('recruit').classList.remove('active');
                    }
                });
            }, { threshold: 0.5 });

            document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
            
            // --- Logo Animation Trigger ---
            setTimeout(() => {
                const logo = document.getElementById('logo');
                if (logo) {
                    logo.classList.add('animate-logo');
                }
            }, 500); // Shorter delay for sub-pages
        });
    </script>
</body>
</html>
